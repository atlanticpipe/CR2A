<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CR2A | Clause Risk & Compliance Analyzer</title>
  <link rel="icon" href="about:blank" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header class="app-header">
    <div class="header-container">
      <div class="header-brand">
        <div class="company-logo">APS</div>
        <div class="company-info">
          <p class="company-name">Atlantic Pipe Services</p>
          <p class="app-name">CR2A</p>
        </div>
      </div>
      <nav class="header-nav">
        <ul>
          <li><a href="#" class="active">Analyzer</a></li>
          <li><a href="#">Documentation</a></li>
          <li><a href="#">Support</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        <button class="btn ghost" id="user-menu">Account</button>
      </div>
    </div>
  </header>

  <!-- ===== BREADCRUMB ===== -->
  <div class="breadcrumb-container">
    <div class="breadcrumb">
      <span class="breadcrumb-item">Dashboard</span>
      <span class="breadcrumb-separator">â€º</span>
      <span class="breadcrumb-item active">Contract Analyzer</span>
    </div>
  </div>

  <!-- ===== MAIN CONTENT ===== -->
  <div class="page">
    <!-- ===== HERO SECTION ===== -->
    <section class="hero">
      <div class="brand">
        <div>
          <p class="eyebrow">Contract Risk Analysis</p>
          <h1>Clause Risk & Compliance Analyzer</h1>
          <p class="lede">
            Upload a contract and analyze potential risks and compliance issues. Streamlined intake for FDOT and internal contracts with executive-ready outputs.
          </p>
          <div class="cta-group">
            <button id="doc-link" class="btn ghost">View policy bundle</button>
            <button class="btn ghost">Learn more</button>
          </div>
        </div>
      </div>

      <!-- ===== SUBMISSION CARD ===== -->
      <div class="hero-card">
        <div class="hero-title">
          <div>
            <p class="eyebrow">Start Analysis</p>
            <h3>Submit Contract</h3>
          </div>
          <span class="pill">Ready to begin</span>
        </div>
        <form id="submission-form">
          <label class="field">
            <span>Contract ID</span>
            <input type="text" name="contract_id" placeholder="e.g., FDOT-Bridge-2024-18" required />
          </label>

          <label class="field">
            <span>Enable AI Refinement</span>
            <div class="switch">
              <input type="checkbox" name="llm_enabled" id="llm_toggle" checked />
              <label for="llm_toggle"></label>
            </div>
            <p class="helper">Uses LLM for deeper analysis and insights</p>
          </label>

          <label class="field">
            <span>Contract File</span>
            <label class="dropzone" id="dropzone">
              <input type="file" id="file-input" accept=".pdf,.doc,.docx,.txt" />
              <div>
                <p class="drop-title">ðŸ“„ Drop contract or click to browse</p>
                <p class="drop-sub">PDF / DOCX up to 500 MB</p>
                <div id="file-name" class="file-name">No file selected</div>
              </div>
            </label>
          </label>

          <div class="upload-status">
            <div class="progress" id="upload-progress" hidden>
              <div class="progress-bar" id="upload-progress-bar"></div>
              <span id="upload-progress-text">0%</span>
            </div>
            <p id="upload-message" class="meta"></p>
          </div>

          <button type="submit" class="btn primary full">Analyze Contract</button>
        </form>
      </div>
    </section>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="content">
      <!-- ===== TIMELINE SECTION ===== -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <p class="eyebrow">Processing</p>
            <h3>Analysis Timeline</h3>
          </div>
          <span class="pill soft">Live Updates</span>
        </div>
        <div class="timeline" id="timeline">
          <div class="timeline-row">
            <div class="dot active"></div>
            <div>
              <p class="title">Ready for submission</p>
              <p class="meta">Upload a contract and configure settings to begin analysis</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== RESULTS SECTION ===== -->
      <section class="panel grid">
        <div>
          <div class="panel-header">
            <div>
              <p class="eyebrow">Results</p>
              <h3>Analysis Output</h3>
            </div>
            <span class="pill soft">Pending</span>
          </div>
          <div class="output">
            <div class="output-row">
              <span class="output-label">Validation Status</span>
              <span class="output-value" id="validation-status">Pending</span>
            </div>
            <div class="output-row">
              <span class="output-label">Risk Level</span>
              <span class="output-value" id="risk-level">â€”</span>
            </div>
            <div class="output-row">
              <span class="output-label">Findings</span>
              <span class="output-value" id="findings-count">0</span>
            </div>
            <div class="output-row">
              <span class="output-label">Export Status</span>
              <span class="output-value" id="export-status">Pending</span>
            </div>
            <div class="output-row output-action">
              <span class="output-label">Download Report</span>
              <a id="download-report" class="btn small" href="#" aria-disabled="true">Get Report</a>
            </div>
          </div>
        </div>

        <!-- ===== INSIGHTS SIDEBAR ===== -->
        <aside class="insights-sidebar">
          <div class="insight">
            <h4>About CR2A</h4>
            <ul>
              <li>Automated contract analysis</li>
              <li>Risk identification and scoring</li>
              <li>Compliance validation</li>
              <li>Executive summaries</li>
              <li>PDF export ready</li>
            </ul>
          </div>
          <div class="insight">
            <h4>Processing Steps</h4>
            <ul>
              <li>File validation</li>
              <li>OCR extraction (if needed)</li>
              <li>Risk assessment</li>
              <li>Compliance check</li>
              <li>Report generation</li>
            </ul>
          </div>
        </aside>
      </section>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
      <p>&copy; 2024 Atlantic Pipe Services. CR2A Contract Analysis Platform. <a href="#">Privacy</a> Â· <a href="#">Support</a></p>
    </footer>
  </div>

  <!-- ===== SCRIPTS ===== -->
  <script src="./env.js"></script>
  <script type="module" src="./app.js"></script>
</body>
</html>
