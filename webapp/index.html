<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR2A - Contract Risk & Compliance Analyzer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>CR2A</h1>
                <p class="subtitle">Contract Risk & Compliance Analyzer</p>
            </div>
            <nav>
                <ul>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Guide</a></li>
                    <li><a href="#">API Docs</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <!-- Error Messages -->
            <div id="error-container"></div>

            <!-- Upload Section -->
            <section class="upload-section" id="upload-section">
                <div class="card">
                    <h2>Analyze a Contract</h2>
                    <p>Upload a contract document (PDF, DOCX, or TXT) for intelligent analysis.</p>

                    <form class="upload-form">
                        <div class="form-group">
                            <label for="contract-id">Contract ID (Optional)</label>
                            <input
                                type="text"
                                id="contract-id"
                                placeholder="e.g., FDOT-2024-001"
                                class="form-control"
                            />
                        </div>

                        <div class="form-group">
                            <label for="file-input">Select Document</label>
                            <div class="file-upload">
                                <input
                                    type="file"
                                    id="file-input"
                                    accept=".pdf,.docx,.txt"
                                    class="form-control"
                                />
                                <p id="file-info" class="file-info">No file selected</p>
                            </div>
                        </div>

                        <button type="button" id="submit-btn" class="btn btn-primary btn-lg">
                            Analyze Contract
                        </button>
                    </form>

                    <div class="file-requirements">
                        <h4>Requirements</h4>
                        <ul>
                            <li>Formats: PDF, DOCX, TXT</li>
                            <li>Maximum size: 500 MB</li>
                            <li>Processing time: 2-10 minutes (depending on length)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Progress Section (Hidden by default) -->
            <section class="progress-section" id="progress-container" style="display: none;">
                <div class="card">
                    <h2>Analysis in Progress</h2>

                    <div class="progress-info">
                        <p id="progress-text" class="progress-text">Initializing analysis...</p>
                        <p id="stage-indicator" class="stage-indicator">Initializing</p>
                    </div>

                    <div class="progress-bar-container">
                        <div id="progress-bar" class="progress-bar" style="width: 0%"></div>
                    </div>

                    <div class="progress-details">
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="detail-value" id="status-value">Processing</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Elapsed Time:</span>
                            <span class="detail-value" id="elapsed-value">0s</span>
                        </div>
                    </div>

                    <div class="progress-stages">
                        <h4>Analysis Stages</h4>
                        <ul>
                            <li data-stage="initialization">üîß Initializing</li>
                            <li data-stage="text_extraction">üìÑ Extracting Text</li>
                            <li data-stage="clause_extraction">üîç Finding Clauses</li>
                            <li data-stage="risk_assessment">‚ö†Ô∏è Assessing Risks</li>
                            <li data-stage="compliance_check">‚úì Checking Compliance</li>
                            <li data-stage="summary_generation">üìù Generating Summary</li>
                            <li data-stage="report_generation">üìã Building Report</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Results Section (Hidden by default) -->
            <section class="results-section" id="results-container" style="display: none;">
                <!-- Results will be injected here -->
            </section>
        </main>

        <footer>
            <p>&copy; 2024 Atlantic Pipe Services. All rights reserved.</p>
            <p>
                <small>CR2A v0.2.0 | 
                    <a href="https://github.com/atlanticpipe/CR2A">GitHub</a> | 
                    <a href="https://www.atlanticpipe.us">Website</a>
                </small>
            </p>
        </footer>
    </div>

    <script src="env.js"></script>
    <script src="app.js"></script>
</body>
</html>
