=====================================================================
APS Contract Analysis — Output Schemas v1
File: contract-analysis-policy-bundle/schemas/output_schemas_v1.txt
Purpose: Human-readable explanation of the strict JSON schema.
=====================================================================

TOP LEVEL:
- $schema: JSON Schema draft version used.
- title: Human label for the schema.
- version: Our internal schema version tag.

---------------------------------------------------------------------
DEFINITION: ClauseBlock
- The fundamental unit of analysis.
- Must include exactly six fields (a–f) plus "provenance".
  a. Clause Language
  b. Clause Summary
  c. Risk Triggers Identified
  d. Flow-Down Obligations
  e. Redline Recommendations
  f. Harmful Language / Policy Conflicts
- Provenance: object that records where the clause came from.
  - source: filename or FDOT year
  - page: page number in source doc
  - span: string snippet or locator

---------------------------------------------------------------------
DEFINITION: SectionItem (Sections II–VI)
- Represents one canonical header item inside Sections II–VI.
- Fields:
  - item_number: integer, position within section
  - item_title: must match canonical header exactly
  - clauses: array of ClauseBlocks
  - closing_line: must equal the canonical string
    "All applicable clauses for [Item #/Title] have been identified and analyzed."

---------------------------------------------------------------------
DEFINITION: SupplementalRiskItem (Section VII)
- Captures supplemental operational risks that don’t fit in II–VI.
- Fields:
  - risk_title: descriptive title of grouped risk
  - clauses: array of ClauseBlocks
  - sequence: must be "x of y" style string, e.g. "1 of 3"

---------------------------------------------------------------------
DEFINITION: RiskSummaryRow (row in Section VIII table)
- One row in the summary table.
- Fields:
  - Risk Area
  - Risk Summary
  - Redline Recommendation Summary

---------------------------------------------------------------------
DEFINITION: SectionVIII
- Full summary section.
- Fields:
  - rows: array of RiskSummaryRow
  - general_risk_level: single string, e.g. "Low", "Moderate", "High"

---------------------------------------------------------------------
DEFINITION: ContractOverview (Section I)
- Fixed 8 fields in exact order:
  1. PROJECT TITLE:
  2. SOLICITATION NO.:
  3. OWNER:
  4. CONTRACTOR:
  5. SCOPE:
  6. GENERAL RISK LEVEL:
  7. BID MODEL:
  8. NOTES:
- No other fields allowed.

---------------------------------------------------------------------
DEFINITION: OmissionCheck
- Final check at end of analysis.
- Must be either:
  (a) The literal string "No omissions or uncategorized risks identified."
  OR
  (b) An array of missed clause objects, each containing:
      - missed_clause (string)
      - suggested_section (string)
      - clause_block (full ClauseBlock)

---------------------------------------------------------------------
RULES OF ENFORCEMENT:
- additionalProperties: false everywhere → forbids drift/extra keys.
- Regex patterns enforce canonical closing lines and numbering.
- Fail-fast if any schema violation is detected.
