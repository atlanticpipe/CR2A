{
  // =====================================================================
  // APS Contract Analysis â€” Validation Rules v1
  // File: contract-analysis-policy-bundle/policy/validation_rules_v1.json
  // Purpose: Defines validation gates and error behavior for analysis runs.
  // =====================================================================

  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "APS Validation Rules",
  "version": "1.0",

  "validation": {
    // ---------------------------------------------------------------
    // Schema enforcement
    // ---------------------------------------------------------------
    "json_schema_enforcement": true,     // Every output validated against schema
    "abort_on_failure": true,            // Abort run if schema validation fails

    // ---------------------------------------------------------------
    // Mandatory fields & headers
    // ---------------------------------------------------------------
    "mandatory_fields": {
      "section_I": 8,                     // Section I must always have 8 fields
      "section_II_to_VI_closing_line": "All applicable clauses for [Item #/Title] have been identified and analyzed."
    },
    "strict_string_match_headers": true, // Headers must match exactly

    // ---------------------------------------------------------------
    // Fail-fast behavior
    // ---------------------------------------------------------------
    "fail_fast": true,                   // Stop immediately on any mismatch
    "retry_on_failure": false,           // No retries; must be operator intervention

    // ---------------------------------------------------------------
    // Audit logging requirements
    // ---------------------------------------------------------------
    "audit_logging": {
      "record_validation_steps": true,   // Log every validation checkpoint
      "record_provenance": true,         // Must capture source/page/span
      "include_checksums": true          // Verify file digests against manifest
    },

    // ---------------------------------------------------------------
    // Omission check rules
    // ---------------------------------------------------------------
    "omission_check": {
      "require_final_check": true,       // End of run must perform omission check
      "allowed_string": "No omissions or uncategorized risks identified." // Canonical no-omission string
    }
  }
}
