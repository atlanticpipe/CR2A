{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "APS Policy Rules",
  "version": "1.0",

  "rules": {
    "clause_discovery": {
      "fdot_substitution_rule": "if contract_silent_or_weaker → insert FDOT spec text",
      "non_fdot_missing_rule": "Not present in contract",
      "search_modes": ["exact", "fuzzy", "contextual"], // enforced internally
      "repeat_discovery_required": true // re-check scope after each clause
    },

    "classification": {
      "route_misfits": true,   // misfit clauses are routed to correct section
      "verify_headers": true,  // strict header match required
      "abort_on_mismatch": true
    },

    "redlining": {
      "guidelines_doc_id": "file-SuN86exJDKidXCm3D1xZuX", // Redlining Guidelines Volume 4
      "enforce_no_deviation": true, // cannot override guidance
      "output_format": "inline textual recommendations"
    },

    "bluf": {
      "enabled": true,
      "when_to_use": [
        "No clause present in contract/spec",
        "Clause belongs under a different section/item"
      ],
      "examples": [
        "BLUF: No clause present in contract/spec. Verified across full text and cross-references.",
        "BLUF: Clause identified but belongs under Section III, Item 3 (Delays). Not included here."
      ]
    },

    "output_control": {
      "section_item_closing_line": "All applicable clauses for [Item #/Title] have been identified and analyzed.",
      "require_strict_a_f_breakdown": true, // a–f breakdown enforced
      "suppress_extra_text": true // no introductions/closings allowed
    },

    "supplemental": {
      "only_if_not_classifiable": true,
      "grouping_rule": "Group similar scope/risks into one item",
      "require_sequential_numbering": true
    },

    "summary": {
      "require_all_risks": true,
      "table_columns": ["Risk Area", "Risk Summary", "Redline Recommendation Summary"],
      "include_general_risk_level": true
    },

    "disassociation": {
      "purge_after_run": true,
      "require_explicit_reference_for_reuse": true
    }
  }
}
